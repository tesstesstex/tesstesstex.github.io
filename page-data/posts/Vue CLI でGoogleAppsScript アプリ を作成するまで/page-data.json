{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/Vue CLI でGoogleAppsScript アプリ を作成するまで","result":{"data":{"markdownRemark":{"id":"07f026bb-9ff1-5d32-8c75-e02b97fe3d3d","html":"<h1 id=\"vuecli4-でgoogleappsscript-アプリを作成する\" style=\"position:relative;\"><a href=\"#vuecli4-%E3%81%A7googleappsscript-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\" aria-label=\"vuecli4 でgoogleappsscript アプリを作成する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VueCLI4 でGoogleAppsScript アプリを作成する</h1>\n<p>GoogleAppsScript (以下GAS) で簡易なWeb サイトやアプリケーションが作成できるのですが、<br>\nそれをVueCLI を用いて作成してみました。  </p>\n<h2 id=\"vue-cli-のインストール\" style=\"position:relative;\"><a href=\"#vue-cli-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"vue cli のインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vue CLI のインストール</h2>\n<p>Vue.js のアプリケーションを簡単に作るためのCLI ツールであるVue CLI をインストールします。<br>\nVue CLI はglobal install する必要があるので注意。  </p>\n<p>なおnpm を使用する場合は適宜読み替えてください。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn global add @vue/cli @vue/cli-init\nyarn global v1.22.10\n[1/4] 🔍  Resolving packages...\n[2/4] 🚚  Fetching packages...\n[3/4] 🔗  Linking dependencies...\n[4/4] 🔨  Building fresh packages...\nsuccess Installed &quot;@vue/cli@4.5.11&quot; with binaries:\n      - vue\n✨  Done in 197.86s.\n\n$ vue --version\n@vue/cli 4.5.11</code></pre></div>\n<ul>\n<li>vue が動かない場合はグローバルインストールしたパッケージへのパスが通っていないと思われます。必要に応じてググってみてください。  </li>\n</ul>\n<h2 id=\"プロジェクトを作成\" style=\"position:relative;\"><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\" aria-label=\"プロジェクトを作成 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>プロジェクトを作成</h2>\n<p>プロジェクト内にすべてのソースコードが入ります。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ vue create &lt;appname&gt;\n* ここではappname は&quot;vue-gas-app&quot; とします。\n** おそらくself singed certificate に関するエラーが生じるので、Global Protect を一時的に切断しましょう。\n*** 終了後再接続するのを忘れずに。</code></pre></div>\n<p>実行後、以下の初期設定用インタラクティブモードに入ります。<br>\n今回は試しにManual で設定してみましょう。 </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Vue CLI v4.5.11\n? Please pick a preset: (Use arrow keys)\n  Default ([Vue 2] babel, eslint)\n  Default (Vue 3 Preview) ([Vue 3] babel, eslint)\n❯Manually select features</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Check the features needed for your project: (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection)\n❯◉ Choose Vue version\n ◉ Babel\n ◯ TypeScript\n ◯ Progressive Web App (PWA) Support\n ◯ Router\n ◯ Vuex\n ◯ CSS Pre-processors\n ◉ Linter / Formatter\n ◯ Unit Testing\n ◯ E2E Testing</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Choose a version of Vue.js that you want to start the project with\n❯ 2.x\n  3.x (Preview)</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Pick a linter / formatter config:\n  ESLint with error prevention only\n  ESLint + Airbnb config\n  ESLint + Standard config\n❯ ESLint + Prettier</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Pick additional lint features: (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection)\n❯◉ Lint on save\n ◯ Lint and fix on commit</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Where do you prefer placing config for Babel, ESLint, etc.? (Use arrow keys)\n❯ In dedicated config files\n  In package.json</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Save this as a preset for future projects? (y/N) n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Pick the package manager to use when installing dependencies: (Use arrow keys)\n❯ Use Yarn\n  Use NPM</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">✨  Creating project in /Users/user/work/vue-gas-app.\n🗃  Initializing git repository...\n⚙️  Installing CLI plugins. This might take a while...\n\nyarn install v1.22.10\ninfo No lockfile found.\n[1/4] 🔍  Resolving packages...\n[2/4] 🚚  Fetching packages...\n[3/4] 🔗  Linking dependencies...\n[4/4] 🔨  Building fresh packages...\nsuccess Saved lockfile.\n✨  Done in 123.97s.\n🚀  Invoking generators...\n📦  Installing additional dependencies...\n\nyarn install v1.22.10\n[1/4] 🔍  Resolving packages...\n[2/4] 🚚  Fetching packages...\n[3/4] 🔗  Linking dependencies...\n[4/4] 🔨  Building fresh packages...\n\nsuccess Saved lockfile.\n✨  Done in 20.69s.\n⚓  Running completion hooks...\n\n📄  Generating README.md...\n\n🎉  Successfully created project vue-gas-app.\n👉  Get started with the following commands:\n\n $ cd vue-gas-app\n $ yarn serve</code></pre></div>\n<p>今回はVueCLI でデフォルトのビューのみのアプリを作成するので、Vue Router やVuex は使用しないものとします。<br>\nパッケージのインストールが完了したら試しに一度動かしてみましょう。    </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd vue-app-demo\n\n$ yarn serve</code></pre></div>\n<h2 id=\"googleappsscript-の用意\" style=\"position:relative;\"><a href=\"#googleappsscript-%E3%81%AE%E7%94%A8%E6%84%8F\" aria-label=\"googleappsscript の用意 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GoogleAppsScript の用意</h2>\n<p>以下のリンクからGoogle Apps Script API を｢オン｣にしておきましょう。<br>\n<a href=\"https://script.google.com/u/1/home/usersettings\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://script.google.com/u/1/home/usersettings</a>  </p>\n<p>GAS のソースコードはclasp というCUI ツールによってローカル環境と同期することができます。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn global add @google/clasp\n\n$ clasp login\n\n$ clasp create vue-gas-app\n? Create which script?\n  standalone\n  docs\n  sheets\n  slides\n  forms\n❯ webapp\n  api</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Created new webapp script: https://script.google.com/d/&lt;id&gt;/edit\nWarning: files in subfolder are not accounted for unless you set a &#39;.claspignore&#39; file.\nCloned 1 file.\n└─ appsscript.json</code></pre></div>\n<p>ここで新たにappsscript.json と.clasp.json が作成されます。<br>\n最終的にGAS へは<code class=\"language-text\">clasp push</code> というコマンドでdist/ 内のファイルをアップロードするのですが、<br>\ndist/ 内にappsscript.json やCode.js を配置することを避けるために、gas/ というディレクトリを作成しましょう。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ mkdir gas\n\n$ mv appsscript.json gas/\n\n$ echo .clasp.json &gt;&gt; .gitignore</code></pre></div>\n<p>またgas/ 内にGAS のエントリポイントとなるCode.js を作成します。  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># Code<span class=\"token punctuation\">.</span>js\n<span class=\"token keyword\">function</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">getHtml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getHtml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> HtmlService<span class=\"token punctuation\">.</span><span class=\"token function\">createTemplateFromFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> html\n    <span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token string\">'vue-gas-app'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">addMetaTag</span><span class=\"token punctuation\">(</span><span class=\"token string\">'viewport'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'width=device-width, initial-scale=1'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>dist/ 内のファイルをGAS へpush するために.clasp.json を以下のように修正します。  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scriptId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"&lt;id>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"rootDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dist\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ビルドの設定\" style=\"position:relative;\"><a href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-label=\"ビルドの設定 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ビルドの設定</h2>\n<p>作成したgas/ 内のファイルをビルドの際にdist/ にコピーしてくれるように、webpack の設定をします。<br>\nVueCLI では従来のようにwebpack.config.js に設定するのではなく、vue.config.js 内に記述します。  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># vue<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>js\n<span class=\"token keyword\">const</span> CopyWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy-webpack-plugin'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  configureWebpack<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token keyword\">new</span> <span class=\"token class-name\">CopyWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'./gas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          ignore<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'.*'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>また、VueCLI の通常のバンドルではGAS では読み込めない場合があるため、すべてをインラインでバンドルすることにします。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># vue<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>js\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> CopyWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copy-webpack-plugin'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> HtmlWebpackInlineSourcePlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-inline-source-plugin'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  publicPath<span class=\"token operator\">:</span> <span class=\"token string\">'/public'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">chainWebpack</span><span class=\"token operator\">:</span> <span class=\"token parameter\">config</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    config\n      <span class=\"token punctuation\">.</span><span class=\"token function\">plugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">tap</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">args</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>template <span class=\"token operator\">=</span> <span class=\"token string\">'./public/index.html'</span>\n        args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>inlineSource <span class=\"token operator\">=</span> <span class=\"token string\">'.(vue|js|css)'</span>\n        <span class=\"token keyword\">return</span> args\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configureWebpack<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackInlineSourcePlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">new</span> <span class=\"token class-name\">CopyWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'./gas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          ignore<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'.*'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"deploy\" style=\"position:relative;\"><a href=\"#deploy\" aria-label=\"deploy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>deploy</h2>\n<p>では実際にビルドしてみましょう。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn build</code></pre></div>\n<p>ビルドしたものをclasp push でデプロイします。<br>\nまた、不要なファイルがアップロードされないように事前に.claspignore を設定します。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/* .claspignore */\n**/**\nstatic/**\nstatic/css/**\n!appsscript.json\n!Code.js\n!index.html</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ clasp push</code></pre></div>\n<p>これでGAS の画面からデプロイすればOKです。</p>\n<h2 id=\"appendix\" style=\"position:relative;\"><a href=\"#appendix\" aria-label=\"appendix permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Appendix</h2>\n<h3 id=\"linter-とformatter\" style=\"position:relative;\"><a href=\"#linter-%E3%81%A8formatter\" aria-label=\"linter とformatter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Linter とFormatter</h3>\n<p>Linting rules に関しては好みが分かれますが、ここでは標準的に使用されているPrettier をフォーマッタに使用します。<br>\nVueCLI を使用してESLint + Prettier をインストールすると、自動的にESLint とPrettier で競合するルールをオフにしてくれる<code class=\"language-text\">eslint-config-prettier</code> がインストールされるので、基本的には自分で特にルールをいじる必要はありません。<br>\n私の場合は .prettierrc.js にてシングルクォートのみ有効にしてあります。  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># <span class=\"token punctuation\">.</span>prettierrc<span class=\"token punctuation\">.</span>js\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  singleQuote<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","fields":{"slug":"/posts/Vue CLI でGoogleAppsScript アプリ を作成するまで","tagSlugs":["/tag/vue/","/tag/gas/"]},"frontmatter":{"date":"2021-02-01T19:10:32.169Z","description":"Vue CLI を使用したSPA をWebpack でなんとかGAS 上にデプロイできるようにならないかやってみた ","tags":["Vue","GAS"],"title":"Vue CLI でGoogleAppsScript アプリ を作成するまで","socialImage":null}}},"pageContext":{"slug":"/posts/Vue CLI でGoogleAppsScript アプリ を作成するまで"}},"staticQueryHashes":["251939775","401334301","825871152"]}