{"componentChunkName":"component---src-templates-post-template-js","path":"/UZl-L_vYqclV","result":{"data":{"microcmsArticles":{"id":"38a29141-27e6-51b7-8375-5bc76601b422","articlesId":"UZl-L_vYqclV","contents":"# VueCLI4 ã§GoogleAppsScript ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹\n\nGoogleAppsScript (ä»¥ä¸‹GAS) ã§ç°¡æ˜“ãªWeb ã‚µã‚¤ãƒˆã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œæˆã§ãã‚‹ã®ã§ã™ãŒã€  \nãã‚Œã‚’VueCLI ã‚’ç”¨ã„ã¦ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚  \n\n## Vue CLI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\nVue.js ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç°¡å˜ã«ä½œã‚‹ãŸã‚ã®CLI ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹Vue CLI ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  \nVue CLI ã¯global install ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§æ³¨æ„ã€‚  \n\nãªãŠnpm ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚  \n```\n$ yarn global add @vue/cli @vue/cli-init\nyarn global v1.22.10\n[1/4] ğŸ”  Resolving packages...\n[2/4] ğŸšš  Fetching packages...\n[3/4] ğŸ”—  Linking dependencies...\n[4/4] ğŸ”¨  Building fresh packages...\nsuccess Installed \"@vue/cli@4.5.11\" with binaries:\n      - vue\nâœ¨  Done in 197.86s.\n\n$ vue --version\n@vue/cli 4.5.11\n```\n* vue ãŒå‹•ã‹ãªã„å ´åˆã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¸ã®ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ãªã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã‚°ã‚°ã£ã¦ã¿ã¦ãã ã•ã„ã€‚  \n\n\n## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ã™ã¹ã¦ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒå…¥ã‚Šã¾ã™ã€‚  \n\n```\n$ vue create <appname>\n* ã“ã“ã§ã¯appname ã¯\"vue-gas-app\" ã¨ã—ã¾ã™ã€‚\n** ãŠãã‚‰ãself singed certificate ã«é–¢ã™ã‚‹ã‚¨ãƒ©ãƒ¼ãŒç”Ÿã˜ã‚‹ã®ã§ã€Global Protect ã‚’ä¸€æ™‚çš„ã«åˆ‡æ–­ã—ã¾ã—ã‚‡ã†ã€‚\n*** çµ‚äº†å¾Œå†æ¥ç¶šã™ã‚‹ã®ã‚’å¿˜ã‚Œãšã«ã€‚\n```\n\nå®Ÿè¡Œå¾Œã€ä»¥ä¸‹ã®åˆæœŸè¨­å®šç”¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚Šã¾ã™ã€‚  \nä»Šå›ã¯è©¦ã—ã«Manual ã§è¨­å®šã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ \n```\nVue CLI v4.5.11\n? Please pick a preset: (Use arrow keys)\n  Default ([Vue 2] babel, eslint)\n  Default (Vue 3 Preview) ([Vue 3] babel, eslint)\nâ¯Manually select features\n```\n\n```\n? Check the features needed for your project: (Press <space> to select, <a> to toggle all, <i> to invert selection)\nâ¯â—‰ Choose Vue version\n â—‰ Babel\n â—¯ TypeScript\n â—¯ Progressive Web App (PWA) Support\n â—¯ Router\n â—¯ Vuex\n â—¯ CSS Pre-processors\n â—‰ Linter / Formatter\n â—¯ Unit Testing\n â—¯ E2E Testing\n```\n\n```\n? Choose a version of Vue.js that you want to start the project with\nâ¯ 2.x\n  3.x (Preview)\n```\n\n```\n? Pick a linter / formatter config:\n  ESLint with error prevention only\n  ESLint + Airbnb config\n  ESLint + Standard config\nâ¯ ESLint + Prettier\n```\n\n```\n? Pick additional lint features: (Press <space> to select, <a> to toggle all, <i> to invert selection)\nâ¯â—‰ Lint on save\n â—¯ Lint and fix on commit\n```\n\n```\n? Where do you prefer placing config for Babel, ESLint, etc.? (Use arrow keys)\nâ¯ In dedicated config files\n  In package.json\n```\n\n```\n? Save this as a preset for future projects? (y/N) n\n```\n\n```\n? Pick the package manager to use when installing dependencies: (Use arrow keys)\nâ¯ Use Yarn\n  Use NPM\n```\n\n```\nâœ¨  Creating project in /Users/user/work/vue-gas-app.\nğŸ—ƒ  Initializing git repository...\nâš™ï¸  Installing CLI plugins. This might take a while...\n\nyarn install v1.22.10\ninfo No lockfile found.\n[1/4] ğŸ”  Resolving packages...\n[2/4] ğŸšš  Fetching packages...\n[3/4] ğŸ”—  Linking dependencies...\n[4/4] ğŸ”¨  Building fresh packages...\nsuccess Saved lockfile.\nâœ¨  Done in 123.97s.\nğŸš€  Invoking generators...\nğŸ“¦  Installing additional dependencies...\n\nyarn install v1.22.10\n[1/4] ğŸ”  Resolving packages...\n[2/4] ğŸšš  Fetching packages...\n[3/4] ğŸ”—  Linking dependencies...\n[4/4] ğŸ”¨  Building fresh packages...\n\nsuccess Saved lockfile.\nâœ¨  Done in 20.69s.\nâš“  Running completion hooks...\n\nğŸ“„  Generating README.md...\n\nğŸ‰  Successfully created project vue-gas-app.\nğŸ‘‰  Get started with the following commands:\n\n $ cd vue-gas-app\n $ yarn serve\n```\n\nä»Šå›ã¯VueCLI ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ“ãƒ¥ãƒ¼ã®ã¿ã®ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã®ã§ã€Vue Router ã‚„Vuex ã¯ä½¿ç”¨ã—ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚    \nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã‚‰è©¦ã—ã«ä¸€åº¦å‹•ã‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚    \n\n```\n$ cd vue-app-demo\n\n$ yarn serve\n```\n\n## GoogleAppsScript ã®ç”¨æ„\n\nä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰Google Apps Script API ã‚’ï½¢ã‚ªãƒ³ï½£ã«ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚  \nhttps://script.google.com/u/1/home/usersettings  \n\nGAS ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯clasp ã¨ã„ã†CUI ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¨åŒæœŸã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚  \n\n```\n$ yarn global add @google/clasp\n\n$ clasp login\n\n$ clasp create vue-gas-app\n? Create which script?\n  standalone\n  docs\n  sheets\n  slides\n  forms\nâ¯ webapp\n  api\n```\n\n```\nCreated new webapp script: https://script.google.com/d/<id>/edit\nWarning: files in subfolder are not accounted for unless you set a '.claspignore' file.\nCloned 1 file.\nâ””â”€ appsscript.json\n```\n\nã“ã“ã§æ–°ãŸã«appsscript.json ã¨.clasp.json ãŒä½œæˆã•ã‚Œã¾ã™ã€‚  \næœ€çµ‚çš„ã«GAS ã¸ã¯`clasp push` ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã§dist/ å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ã§ã™ãŒã€  \ndist/ å†…ã«appsscript.json ã‚„Code.js ã‚’é…ç½®ã™ã‚‹ã“ã¨ã‚’é¿ã‘ã‚‹ãŸã‚ã«ã€gas/ ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚  \n\n```\n$ mkdir gas\n\n$ mv appsscript.json gas/\n\n$ echo .clasp.json >> .gitignore\n```\n\nã¾ãŸgas/ å†…ã«GAS ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹Code.js ã‚’ä½œæˆã—ã¾ã™ã€‚  \n\n```javascript\n# Code.js\nfunction doGet() {\n  return getHtml()\n}\nfunction getHtml() {\n  const html = HtmlService.createTemplateFromFile('index')\n  return html\n    .evaluate()\n    .setTitle('vue-gas-app')\n    .addMetaTag('viewport', 'width=device-width, initial-scale=1')\n}\n```\n\ndist/ å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’GAS ã¸push ã™ã‚‹ãŸã‚ã«.clasp.json ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚  \n\n```json\n{\n  \"scriptId\":\"<id>\",\n  \"rootDir\": \"dist\"\n}\n```\n\n## ãƒ“ãƒ«ãƒ‰ã®è¨­å®š\n\nä½œæˆã—ãŸgas/ å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ“ãƒ«ãƒ‰ã®éš›ã«dist/ ã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ã€webpack ã®è¨­å®šã‚’ã—ã¾ã™ã€‚  \nVueCLI ã§ã¯å¾“æ¥ã®ã‚ˆã†ã«webpack.config.js ã«è¨­å®šã™ã‚‹ã®ã§ã¯ãªãã€vue.config.js å†…ã«è¨˜è¿°ã—ã¾ã™ã€‚  \n\n```javascript\n# vue.config.js\nconst CopyWebpackPlugin = require('copy-webpack-plugin')\n\nmodule.exports = {\n  configureWebpack: {\n    plugins: [\n      new CopyWebpackPlugin([\n        {\n          from: path.resolve(__dirname, './gas'),\n          ignore: ['.*']\n        }\n      ])\n    ]\n  }\n};\n```\n\nã¾ãŸã€VueCLI ã®é€šå¸¸ã®ãƒãƒ³ãƒ‰ãƒ«ã§ã¯GAS ã§ã¯èª­ã¿è¾¼ã‚ãªã„å ´åˆãŒã‚ã‚‹ãŸã‚ã€ã™ã¹ã¦ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\n\n```javascript\n# vue.config.js\nconst path = require('path')\nconst CopyWebpackPlugin = require('copy-webpack-plugin')\nconst HtmlWebpackInlineSourcePlugin = require('html-webpack-inline-source-plugin')\n\nmodule.exports = {\n  publicPath: '/public',\n  chainWebpack: config => {\n    config\n      .plugin('html')\n      .tap(args => {\n        args[0].template = './public/index.html'\n        args[0].inlineSource = '.(vue|js|css)'\n        return args\n      })\n  },\n  configureWebpack: {\n    plugins: [\n      new HtmlWebpackInlineSourcePlugin(),\n      new CopyWebpackPlugin([\n        {\n          from: path.resolve(__dirname, './gas'),\n          ignore: ['.*']\n        }\n      ])\n    ]\n  }\n};\n```\n\n## deploy\n\nã§ã¯å®Ÿéš›ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚  \n\n```\n$ yarn build\n```\n\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚‚ã®ã‚’clasp push ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚  \nã¾ãŸã€ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„ã‚ˆã†ã«äº‹å‰ã«.claspignore ã‚’è¨­å®šã—ã¾ã™ã€‚  \n\n```\n/* .claspignore */\n**/**\nstatic/**\nstatic/css/**\n!appsscript.json\n!Code.js\n!index.html\n```\n\n```\n$ clasp push\n```\n\nã“ã‚Œã§GAS ã®ç”»é¢ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚Œã°OKã§ã™ã€‚\n\n## Appendix\n\n### Linter ã¨Formatter\n\nLinting rules ã«é–¢ã—ã¦ã¯å¥½ã¿ãŒåˆ†ã‹ã‚Œã¾ã™ãŒã€ã“ã“ã§ã¯æ¨™æº–çš„ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹Prettier ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã«ä½¿ç”¨ã—ã¾ã™ã€‚  \nVueCLI ã‚’ä½¿ç”¨ã—ã¦ESLint + Prettier ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«ESLint ã¨Prettier ã§ç«¶åˆã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ã‚ªãƒ•ã«ã—ã¦ãã‚Œã‚‹`eslint-config-prettier` ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ã®ã§ã€åŸºæœ¬çš„ã«ã¯è‡ªåˆ†ã§ç‰¹ã«ãƒ«ãƒ¼ãƒ«ã‚’ã„ã˜ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚  \nç§ã®å ´åˆã¯ .prettierrc.js ã«ã¦ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã®ã¿æœ‰åŠ¹ã«ã—ã¦ã‚ã‚Šã¾ã™ã€‚  \n\n```javascript\n# .prettierrc.js\nmodule.exports = {\n  singleQuote: true,\n};\n```\n","category":"Development","date":"2021-02-01T19:10:32.169Z","description":"Vue CLI ã‚’ä½¿ç”¨ã—ãŸSPA ã‚’Webpack ã§ãªã‚“ã¨ã‹GAS ä¸Šã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ã‚ˆã†ã«ãªã‚‰ãªã„ã‹ã‚„ã£ã¦ã¿ãŸ ","tags":["GAS","Vue.js"],"title":"Vue CLI ã§GoogleAppsScript ã‚¢ãƒ—ãƒª ã‚’ä½œæˆã™ã‚‹ã¾ã§"}},"pageContext":{"slug":"UZl-L_vYqclV"}},"staticQueryHashes":["2758407812","3827264240","825871152"]}